<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ThatAIGuy.org â€” Support the Mission</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./css/theme.css" />
  <link rel="stylesheet" href="./css/responsive-fix.css" />
  <link rel="stylesheet" href="./css/chrome-fixes.css" />
  <link rel="stylesheet" href="./css/themed-tabs.css" />
  <link rel="stylesheet" href="./css/splash-screens.css" />
  <link rel="stylesheet" href="./freeaicharity_custom.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" />
  <!-- DONATION_LINKS_START -->
  <script>window.DONATION_LINKS = {"venmoUrl":"https://venmo.com/u/FreeAICharity","cashAppUrl":"https://cash.app/$janady07","stripePaymentLink":"https://buy.stripe.com/test_123","cashAppHandle":"@janady07","campaignRaised":1200,"campaignGoal":5000000,"venmoHandle":"thatdeveloperguyyyy"};</script>
<!-- DONATION_LINKS_END -->
  <script>
    // Check if we're in an iframe (like GitHub Pages)
    if (window !== window.top) {
      document.documentElement.classList.add('in-iframe');
    }
  </script>
  <style>
    /* Professional, visually stunning upgrades */
    body {
      min-height: 100vh;
      background: #0b1020;
      overflow-x: hidden;
    }
    #three-bg {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 0;
      pointer-events: none;
    }
    .page-container {
      position: relative;
      z-index: 2;
    }
    .brand {
      display: inline-flex;
      align-items: center;
      gap: 14px;
      margin-bottom: 12px;
      background: linear-gradient(90deg, #7c5cff, #00cfff);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-weight: 900;
      font-size: clamp(32px, 7vw, 60px);
      letter-spacing: 0.4px;
      text-shadow: 0 8px 30px rgba(124,92,255,0.25);
      animation: brandFadeIn 1.2s cubic-bezier(.77,0,.18,1) 0.2s both;
    }
    @keyframes brandFadeIn {
      from { opacity: 0; transform: translateY(-40px) scale(0.95); }
      to { opacity: 1; transform: none; }
    }
    .hero-omni {
      background: rgba(20,24,40,0.85);
      box-shadow: 0 8px 40px rgba(0,0,0,0.18);
      border-radius: 24px;
      padding: 48px 32px 32px;
      margin-top: 32px;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(8px);
      animation: heroFadeIn 1.2s cubic-bezier(.77,0,.18,1) 0.4s both;
    }
    @keyframes heroFadeIn {
      from { opacity: 0; transform: translateY(60px) scale(0.98); }
      to { opacity: 1; transform: none; }
    }
    .card {
      background: rgba(30,34,60,0.92);
      border-radius: 18px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.12);
      padding: 32px 24px;
      margin-top: 24px;
      animation: cardFadeIn 1.2s cubic-bezier(.77,0,.18,1) 0.6s both;
    }
    @keyframes cardFadeIn {
      from { opacity: 0; transform: translateY(40px) scale(0.97); }
      to { opacity: 1; transform: none; }
    }
    .btn-omni, .btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 14px 28px;
      font-size: 18px;
      font-weight: 600;
      border-radius: 12px;
      background: linear-gradient(90deg, #7c5cff 60%, #00cfff 100%);
      color: #fff;
      border: none;
      box-shadow: 0 2px 12px rgba(124,92,255,0.12);
      cursor: pointer;
      transition: all 0.2s cubic-bezier(.77,0,.18,1);
      margin: 8px 12px 8px 0;
      text-decoration: none;
      position: relative;
      overflow: hidden;
    }
    .btn-omni.secondary {
      background: linear-gradient(90deg, #00cfff 60%, #7c5cff 100%);
    }
    .btn-omni:hover, .btn:hover {
      transform: translateY(-2px) scale(1.04);
      box-shadow: 0 6px 24px rgba(124,92,255,0.18);
      background: linear-gradient(90deg, #00cfff 60%, #7c5cff 100%);
    }
    .btn svg {
      width: 22px;
      height: 22px;
    }
    .progress-bar-omni {
      width: 100%;
      height: 18px;
      background: rgba(255,255,255,0.07);
      border-radius: 9px;
      overflow: hidden;
      margin-top: 12px;
      box-shadow: 0 2px 8px rgba(124,92,255,0.08);
      position: relative;
    }
    .progress-bar-omni .progress {
      height: 100%;
      background: linear-gradient(90deg, #7c5cff, #00cfff);
      border-radius: 9px;
      transition: width 1.2s cubic-bezier(.77,0,.18,1);
    }
    .section-header {
      margin-top: 16px;
      margin-bottom: 4px;
      font-weight: 800;
      letter-spacing: .2px;
      background: linear-gradient(90deg, #7c5cff, #00cfff);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-size: 18px;
      text-shadow: 0 2px 12px rgba(124,92,255,0.12);
    }
    .admin-link {
      margin-top: 22px;
      display: inline-block;
      color: #b3c7ff;
      opacity: .85;
      text-decoration: none;
      font-size: 15px;
      transition: opacity 0.2s;
    }
    .admin-link:hover {
      opacity: 1;
      text-decoration: underline;
    }
    .sub {
      color: #b3c7ff;
      font-size: 13px;
      margin-top: 12px;
      opacity: 0.85;
    }
    .btn-omni.disabled {
      display: none;
    }
    /* 3D tab content placeholder */
    .tab-content {
      min-height: 180px;
      margin-bottom: 18px;
      animation: tabFadeIn 1.2s cubic-bezier(.77,0,.18,1) 0.8s both;
    }
    @keyframes tabFadeIn {
      from { opacity: 0; transform: translateY(30px) scale(0.98); }
      to { opacity: 1; transform: none; }
    }
  </style>
  <link rel="stylesheet" href="css/fix-overlay.css"/>
</head>
<body class="github-pages">
  <!-- 3D Background Canvas -->
  <canvas id="three-bg"></canvas>
  <!-- Splash Screens -->
  <div id="burtonSplash" class="splash-screen burton-splash">
    <div class="burton-particles" id="burtonParticles"></div>
    <div class="splash-content">
      <div class="splash-icon"><i class="fas fa-magic"></i></div>
      <h1 class="splash-title">AI Tools</h1>
      <p>Entering the whimsical world of creative AI...</p>
    </div>
  </div>
  <div id="nickelodeonSplash" class="splash-screen nickelodeon-splash">
    <div class="nickelodeon-shapes" id="nickelodeonShapes"></div>
    <div class="splash-content">
      <div class="splash-icon"><i class="fas fa-users"></i></div>
      <h1 class="splash-title">Community</h1>
      <p>Jumping into our vibrant community space...</p>
    </div>
  </div>
  
  <div class="page-container">
    <main class="wrap">
    <section class="hero hero-omni reveal-in" style="border-radius:16px; overflow:hidden;">
      <div class="brand">ThatAIGuy.org</div>
      <div class="tagline">Help fuel research, tools, and community resources focused on accessible AI.</div>
      <div style="margin:10px 0 20px;">
  <a href="./research.html" class="tag-omni">Open Research</a>
  <span class="tag-omni tab-header" id="aiToolsTab" tabindex="0" role="button" aria-controls="aiToolsContent">AI Tools</span>
  <span class="tag-omni tab-header" id="communityTab" tabindex="0" role="button" aria-controls="communityContent">Community</span>
      </div>
      <div class="card">
        <div id="tabContents">
          <div id="aiToolsContent" class="tab-content" style="display:none;">
            <!-- Tim Burton-inspired 3D UI will be injected here -->
          </div>
          <div id="communityContent" class="tab-content" style="display:none;">
            <!-- Nickelodeon-inspired 3D UI will be injected here -->
          </div>
        </div>
        <div id="mainContent">
          <h2 style="margin-top:0; margin-bottom:12px; font-size:20px; font-weight:700">Choose your donation method</h2>
          <div class="cta">
            <a id="venmoBtn" class="btn-omni" href="#" target="_blank" rel="noopener" aria-label="Donate via Venmo">
              <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M3 3h18v18H3z" fill="#3d95ce"/><path d="M16.5 6.5c.3 1.2-.1 3-1 5.3l-3.2 7.7H7.8L5.5 6.8l4.3-.3.7 6.2 2.3-6.2h3.7z" fill="#fff"/></svg>
              <span>Donate via Venmo</span>
            </a>
            <a id="cashappBtn" class="btn-omni secondary" href="#" target="_blank" rel="noopener" aria-label="Donate via Cash App">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="3" y="3" width="18" height="18" rx="4" fill="#00d632"/><path d="M10.5 8.2c0-.7.6-1.3 1.3-1.3h1.6c1.9 0 3.5 1.6 3.5 3.5 0 1.7-1.2 3.1-2.8 3.4l-3.4.7c-1.1.2-1.9 1.2-1.9 2.3 0 1.3 1 2.3 2.3 2.3h3.4" stroke="#fff" stroke-width="1.8" stroke-linecap="round"/></svg>
              <span>Donate via Cash App</span>
            </a>
            <a id="stripeBtn" class="btn-omni" href="#" target="_blank" rel="noopener" aria-label="Donate via Stripe">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="3" y="5" width="18" height="14" rx="3" fill="#635bff"/><rect x="5" y="9" width="10" height="2" rx="1" fill="#ffffff" opacity=".9"/><rect x="5" y="13" width="14" height="2" rx="1" fill="#ffffff" opacity=".9"/></svg>
              <span>Donate with Card (Stripe)</span>
            </a>
          </div>
          <div class="donation-tiers">
            <h3 class="section-header">Select Donation Amount</h3>
            <div id="stripeOptions" class="stripe-options"></div>
          </div>
          <div class="business-tiers">
            <h3 id="bizHeader" class="section-header" style="display:none">Business & Sponsorship</h3>
            <div id="businessOptions" class="stripe-options" style="display:none"></div>
          </div>
          <div id="note" class="sub">Links load from <code>static/config.json</code>. Update your handles/URLs there.</div>
          <div style="max-width:560px; margin:22px auto 0;">
            <div class="progress-bar-omni" data-progress="35">
              <div class="progress"></div>
            </div>
            <div id="progressLabel" style="font-size:12px; opacity:.8; margin-top:8px; text-align:center;">Campaign progress</div>
          </div>
          <a class="admin-link" href="/backend">Admin Dashboard</a>
        </div>
      </div>
    </section>
  </main>
  </div>

  <script>
    function applyLinks(cfg) {
      const venmo = (cfg.venmoHandle || '').trim();
      const cash = (cfg.cashAppHandle || '').trim();
      const venmoUrl = (cfg.venmoUrl || '').trim();
      const cashUrl = (cfg.cashAppUrl || '').trim();
      const stripeUrl = (cfg.stripeUrl || cfg.stripePaymentLink || '').trim();
      const stripeLinks = Array.isArray(cfg.stripeLinks) ? cfg.stripeLinks : [];
      const businessLinks = Array.isArray(cfg.stripeBusinessLinks) ? cfg.stripeBusinessLinks : [];
      const venmoBtn = document.getElementById('venmoBtn');
      const cashBtn = document.getElementById('cashappBtn');
      const stripeBtn = document.getElementById('stripeBtn');
      const stripeOptions = document.getElementById('stripeOptions');
      const businessOptions = document.getElementById('businessOptions');
      const bizHeader = document.getElementById('bizHeader');
      const note = document.getElementById('note');

      if (venmoUrl) {
        venmoBtn.href = venmoUrl;
      } else if (venmo) {
        const user = venmo.replace(/^@/, '');
        venmoBtn.href = `https://venmo.com/u/${user}`;
      }

      if (cashUrl) {
        cashBtn.href = cashUrl;
      } else if (cash) {
        const norm = cash.startsWith('$') ? cash : `$${cash}`;
        cashBtn.href = `https://cash.app/${norm}`;
      }

      // Always set the main Stripe button URL
      if (stripeUrl) {
        stripeBtn.href = stripeUrl;
      } else if (stripeLinks.length > 0 && stripeLinks[0] && stripeLinks[0].url) {
        stripeBtn.href = stripeLinks[0].url;
      }
      
      // Always show the stripe options if available
      if (stripeOptions) {
        stripeOptions.innerHTML = '';
        const fmt = (cents) => {
          const dollars = (Number(cents) || 0) / 100;
          return `$${dollars.toLocaleString(undefined,{maximumFractionDigits:0})}`;
        };
        
        if (stripeLinks.length > 0) {
          stripeLinks
            .filter(it => it && it.url)
            .sort((a,b) => (a.amountCents||0) - (b.amountCents||0))
            .forEach(it => {
              const a = document.createElement('a');
              a.href = it.url;
              a.target = '_blank'; a.rel = 'noopener';
              a.textContent = it.name || fmt(it.amountCents || 0);
              a.classList.add('btn');
              stripeOptions.appendChild(a);
            });
          
          // Show the donation tiers section
          const tierSection = document.querySelector('.donation-tiers');
          if (tierSection) {
            tierSection.style.display = 'block';
          }
        } else {
          // Hide the donation tiers section if no links
          const tierSection = document.querySelector('.donation-tiers');
          if (tierSection) {
            tierSection.style.display = 'none';
          }
        }
      }

      if (businessLinks.length > 0 && businessOptions) {
        businessOptions.innerHTML = '';
        businessLinks.forEach(it => {
          if (!it || !it.url) return;
          const a = document.createElement('a');
          a.href = it.url; a.target = '_blank'; a.rel = 'noopener';
          a.textContent = it.name || 'Business';
          a.classList.add('btn');
          businessOptions.appendChild(a);
        });
        businessOptions.style.display = 'grid';
        if (bizHeader) bizHeader.style.display = 'block';
      }

      // Disable only those still pointing to '#'
      [venmoBtn, cashBtn, stripeBtn].forEach(btn => {
        if (!btn || !btn.getAttribute('href') || btn.getAttribute('href') === '#') {
          btn.classList.add('disabled');
          btn.style.opacity = .6;
          btn.style.pointerEvents = 'none';
        }
      });

      if (venmoBtn.href !== '#' || cashBtn.href !== '#' || stripeBtn.href !== '#') {
        note.textContent = 'Thank you for your support!';
      }
    }

    async function loadConfig() {
      try {
        // Try both relative and absolute paths for GitHub Pages compatibility
        let res;
        try {
          res = await fetch('/config.json', { cache: 'no-store' });
          if (!res.ok) throw new Error('Not found at root path');
        } catch (e) {
          // Try relative path for GitHub Pages
          res = await fetch('./config.json', { cache: 'no-store' });
          if (!res.ok) throw new Error('Config not available');
        }
        
        const cfg = await res.json();
        applyLinks(cfg);

        // Optional: campaign progress from config
        const raised = Number(cfg.campaignRaised || cfg.raised || 0);
        const goal = Number(cfg.campaignGoal || cfg.goal || 0);
        let pct = 35;
        let label = 'Campaign progress';
        if (goal > 0) {
          pct = Math.min(100, Math.max(0, Math.round((raised / goal) * 100)));
          label = `Campaign progress â€” $${raised.toLocaleString()} of $${goal.toLocaleString()}`;
        }
        const bar = document.querySelector('.progress-bar-omni');
        if (bar) {
          bar.setAttribute('data-progress', String(pct));
          const fill = bar.querySelector('.progress');
          if (fill) fill.style.width = pct + '%';
        }
        const pl = document.getElementById('progressLabel');
        if (pl) pl.textContent = label;
      } catch (e) {
        document.getElementById('note').textContent = 'Configure donation links in static/config.json';
        // Keep a sensible default progress
        const bar = document.querySelector('.progress-bar-omni .progress');
        if (bar) bar.style.width = '35%';
      }
    }
    // Apply links from embedded build-time config first (no network)
    try { if (window.DONATION_LINKS) applyLinks(window.DONATION_LINKS); } catch {}
    // Then fetch config.json to ensure latest
    loadConfig();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>
  <script>
    // Three.js 3D background effect
    window.addEventListener('DOMContentLoaded', () => {
      const canvas = document.getElementById('three-bg');
      if (!canvas) return;
      const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x0b1020, 0.0);
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.z = 8;
      // Add animated 3D objects
      const geometry = new THREE.IcosahedronGeometry(2, 2);
      const material = new THREE.MeshStandardMaterial({ color: 0x7c5cff, metalness: 0.7, roughness: 0.25, wireframe: false });
      const mesh = new THREE.Mesh(geometry, material);
      scene.add(mesh);
      // Lighting
      const ambient = new THREE.AmbientLight(0xffffff, 0.7);
      scene.add(ambient);
      const point = new THREE.PointLight(0x00cfff, 1, 100);
      point.position.set(5, 5, 10);
      scene.add(point);
      // Animate
      function animate() {
        requestAnimationFrame(animate);
        mesh.rotation.x += 0.005;
        mesh.rotation.y += 0.008;
        renderer.render(scene, camera);
      }
      animate();
      // Responsive resize
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    });
  </script>
  <script src="./freeaicharity_custom.js" defer></script>
  <script src="./splash-screens.js" defer></script>
  <script src="./themed-tabs.js" defer></script>
</body>
</html>
